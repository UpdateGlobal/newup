window.__jivoOnError=function(e){if(navigator.userAgent.search(/google/gi)===-1&&navigator.userAgent.search(/YandexMobileBot/gi)===-1)try{var t=window.location.protocol+"//err.jivosite.com/widget",o="POST",n={widget:"true",widget_version:window.jivo_version,level:2,url:window.location.href,user_agent:navigator.userAgent,lineNumber:e&&e.lineNumber,fileName:e&&e.fileName,column:e&&e.columnNumber,full_message:e&&e.stack,short_message:e&&e.message},r=new XMLHttpRequest;"withCredentials"in r?r.open(o,t,!0):"undefined"!=typeof XDomainRequest&&(r=new XDomainRequest,r.open(o,t)),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(n))}catch(e){}},function(){function e(e,t,o,n){function r(t){if("[object Object]"===Object.prototype.toString.call(e.wix_context)&&"[object Object]"===Object.prototype.toString.call(e.jivo_wix)&&Object.assign(t,e.jivo_wix),e.jivo_config=A=t,g())throw new Error("Placing widget is forbidden on "+e.top.location.host);return P&&A.disable_mobile?void(console.log&&console.log("Jivo: disable mobile widget")):(i(),void v())}function i(){X.src="javascript:false",X.title="",X.role="presentation",X.setAttribute("name","jivo_container"),X.setAttribute("id","jivo_container"),X.setAttribute("frameborder","no"),F.className+="jivo-no-transition","undefined"==typeof SVGRect&&(F.className+=" no-svg"),(X.frameElement||X).style.cssText="width:100%;height:100%;border:0",e.jivo_init=function(){J=0,V=!1;var o=t.createEvent("Event");o.initEvent("jBeforeunload",!0,!0),e.dispatchEvent(o),a()},e.atob&&"complete"!==t.readyState?d(e,"load",a):a(),d(e,"message",function(o){if(!o)return void(console&&console.log&&console.log("Error receive postMessage, window message event is empty."));var n,r,i=o.data;if("in_node_webkit"==i.name&&(n||(n=o.source,r=o.origin),n&&r)){e.jivo_cobrowse={source:n,origin:r};var a="jv_"+encodeURIComponent("langpack")+"_"+A.widget_id+"="+encodeURIComponent(JSON.stringify(i.langpack));A.cookie_domain&&(a+="; domain="+A.cookie_domain),a+="; path=/",t.cookie=a,n.postMessage({name:"widget_ready"},r)}"iframe_url_changed"!=i.name&&"iframe_url_changed"!=i||c()},!1)}function a(){var e=t.getElementsByTagName("head")[0],o=t.createElement("script"),n=A.bundle_folder?A.bundle_folder:"",r=u()+n+"/js/bundle_"+A.locale+".js?rand="+A.build_number;H=H||(new Date).getTime(),o.type="text/javascript",o.async=!0,o.charset="UTF-8",o.className="js-jivo-bundle",o.src=r,L.bundleSrc=r,e.appendChild(o),o.onerror=function(e){m("error",e)},_()}function s(){D=t.body.lastChild,F.style&&(F.style.opacity="0",F.style.visibility="hidden"),F.setAttribute("id","jivo-iframe-container"),F.appendChild(X),D?D.parentNode.insertBefore(F,D.nextSibling):t.body.appendChild(F),c()}function c(){function o(t,o,n,r,i){Object.assign(i,{message:"Bundle init error",columnNumber:r,lineNumber:n,url:o}),e.parent.__jivoOnError(i)}if(!(J++>3)){if(!q)return J--,a();try{U=X.contentWindow.document}catch(e){R=t.domain,X.src="javascript:var d=document.open();d.domain='"+R+"';void(0);",U=X.contentWindow.document}var n="<!doctype HTML>",r='<meta name="google" content="notranslate"><meta http-equiv="X-UA-Compatible" content="IE=edge" />',i='<script type="text/javascript">window.onerror = '+o.toString()+";"+q+"</script>",s="<head>"+r+i+"</head>",c='<body class="notranslate"><div id="widget"></div><div id="player"></div></body>';U.write(n+s+c),U.close()}}function d(t,o,n){t.addEventListener?t.addEventListener(o,n,!1):t.attachEvent&&(t.attachEvent("on"+o,function(t){return function(){n.call(t,e.event)}}(t)),t=null)}function l(){if(L.hasStorage)var e=parseInt(localStorage.getItem("jv_store_cdn_resolve_time"),10);return e&&e>=(new Date).getTime()||L.cdnUnavailableState}function u(){return A.static_host&&!l()?"//"+A.static_host:A.base_url}function g(){return void 0!==A.host_blacklist&&A.host_blacklist.indexOf(e.location.host)>=0}function v(){A.cp_tracker_id&&A.cp_tracker_url&&(e._cp={trackerId:A.cp_tracker_id},h(A.cp_tracker_url))}function m(t,o){return clearTimeout(M),++Z>=Y||V?void(o&&(Object.assign(o,{message:"Bundle not loaded"}),e.__jivoOnError(o))):(L.hasStorage&&(localStorage.setItem("jv_store_cdn_resolve_time",((new Date).getTime()+G).toString()),localStorage.setItem("jv_store_cdn_unavailable",t)),L.cdnUnavailableState=!0,void a())}function _(){l()||(M=setTimeout(function(){!V&&m("timeout")},W))}function p(e){if(!V){clearTimeout(M),V=!0,q=e;var t=(new Date).getTime()-H;L.hasStorage&&t>6e3&&localStorage.setItem("jv_store_cdn_load_time",t),s()}}function f(e){e.globalStore=L,w()}function w(){q=null;for(var e=t.getElementsByTagName("head")[0],o=e.getElementsByClassName("js-jivo-bundle"),n=0;n<o.length;n++)o[n].parentNode&&(o[n].parentNode.removeChild(o[n]),o[n]=null);o=null}function h(e,o){var n=o||t,r=n.getElementsByTagName("script"),i=r[0],a=n.createElement("script");T(a),i.parentNode.insertBefore(a,i).src=e}function j(e){var t;return t=e.responseType&&"text"!==e.responseType?"document"===e.responseType?e.responseXML:e.response:e.responseText}function b(){L.hasStorage&&localStorage.setItem("jv_deleted_"+N+"_resolve_time",((new Date).getTime()+z).toString()),S()}function y(){var e=!1;if(L.hasStorage){var t=localStorage.getItem("jv_deleted_"+N+"_resolve_time");t&&parseInt(t)>=(new Date).getTime()&&(e=!0,S())}return e}function S(){var e="This widget is permanently removed";console.error?console.error(e):console.log?console.log(e):void 0}function E(o){if(!y()){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status){var o=t.getElementsByTagName("script"),r=o[0],i=t.createElement("script");T(i),r.parentNode.insertBefore(i,r).innerHTML=j(n)}else if(0!=n.status){var a=new Error("Config not loaded. Responce status code "+n.status);e.__jivoOnError(a)}},n.open("GET",o+"?rnd="+Math.random(),!0),n.send(null)}}function T(e){return e.type="text/javascript",e.async=!0,e.charset="UTF-8",e}if("undefined"==typeof e.jivo_magic_var){e.jivo_magic_var=!0;var N,O,L={hasStorage:e.__hasStorage,cdnUnavailableState:!1,jivoLoaderVersion:o,loadScript:h,currentLoaderVersionCache:n},C=/UCBrowser/i.test(navigator.userAgent);try{throw new Error("Get script URL")}catch(e){var I,k;I=C&&t.currentScript&&t.currentScript.src?[t.currentScript.src]:e.stack.split("\n"),k=I.length;for(var B=0;B<k;B++)if(!N){var x=I[B].match(/https?:\/\/(\S+)\/script\/widget\/([A-Za-z0-9]+)/);x&&x.length>1&&(O=x[1],N=x[2])}}if(!N||!O)throw new Error("Failed to evaluate the widgetId or configHost");var A,R,U,D,M,V,q,H,P=/iPhone|iPad|iPod|Android|Windows Phone/i.test(navigator.userAgent),X=t.createElement("iframe"),F=t.createElement("div"),J=0,W=1e4,G=12e4,z=6048e5,Y=3,Z=0;e.__jivoConfigOnLoad=r,e.__jivoBundleOnLoad=p,e.__jivoBundleInit=f,E("//"+O+"/script/widget/config/"+N),e.__jivoCacheDeletedWidget=b}}var t=.1;window.__hasStorage=!1;try{localStorage.setItem("testLocalStorage","ok"),localStorage.removeItem("testLocalStorage"),window.__hasStorage=!0}catch(e){}var o=e,n=null;if(window.__hasStorage){try{n=JSON.parse(localStorage.getItem("__jivoLoader"))}catch(e){window.__jivoOnError(Object.assign(e,{message:"Loader error"}))}n&&n.version>=t&&(o=new Function("window","document","broswerCacheLoaderVersion","currentLoaderVersionCache","("+n.code+")(window, document, broswerCacheLoaderVersion, currentLoaderVersionCache)"))}try{o(window,document,t,n?n.version:t)}catch(n){window.__jivoOnError(Object.assign(n,{message:"Loader error"})),delete window.jivo_magic_var,o=e,o(window,document,t,t)}}();